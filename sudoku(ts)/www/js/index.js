!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){e.exports=jQuery},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}Object.defineProperty(t,"__esModule",{value:!0});var i=new(function(){function e(){n(this,e)}return o(e,[{key:"getBoxCells",value:function(e,t){for(var r=3*Math.floor(t/3),n=t%3*3,a=[],o=0;o<9;o++){var i=r+Math.floor(o/3),u=n+o%3;a.push(e[i][u])}return a}},{key:"convertFromBoxIndex",value:function(e,t){return{rowIndex:3*Math.floor(e/3)+Math.floor(t/3),colIndex:e%3*3+t%3}}},{key:"convertToBoxIndex",value:function(e,t){return{boxIndex:3*Math.floor(e/3)+Math.floor(t/3),cellIndex:e%3*3+t%3}}}]),e}()),u=new(function(){function e(){n(this,e)}return o(e,[{key:"make",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Array.from({length:9},(function(){return e.makeRow(t)}))}},{key:"makeRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Array(9);return t.fill(e),t}},{key:"shuffle",value:function(e){for(var t=e.length,r=t-1,n=0;n<r;n++){var a=n+Math.floor(Math.random()*(t-n)),o=[e[a],e[n]];e[n]=o[0],e[a]=o[1]}return e}},{key:"checkFillable",value:function(e,t,r,n){for(var a=i.convertToBoxIndex(r,n),o=i.getBoxCells(e,a.boxIndex),u=0;u<9;u++)if(e[u][n]===t||e[r][u]===t||o[u]===t)return!1;return!0}}]),e}()),l={get matrix(){return u},get box(){return i}};t.default=l},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a,o,i=r(3),u=r(7);n=e("#container"),a=e("#popupNumbers"),(o=new i.default(n)).bindPopup(new u.default(a)),o.rebuild(),e("#check").on("click",(function(){o.check()&&alert("成功")})),e("#reset").on("click",(function(){return o.reset()})),e("#clear").on("click",(function(){return o.clear()})),e("#rebuild").on("click",(function(){return o.rebuild()})),e(window).on("resize",(function(){return o.layout()}))}).call(this,r(0))},function(e,t,r){"use strict";(function(e){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),o=r(6),i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._$container=e}var r,i,u;return r=t,(i=[{key:"rebuild",value:function(){var t=(new a.default).make(),r=["row_g_top","row_g_middle","row_g_bottom"],n=["col_g_left","col_g_center","col_g_right"];this._cells=t.map((function(t){return t.map((function(t,r){return e("<span>").text(t).addClass(t?"fixed":"empty").addClass(n[r%3])}))}));var o=this._cells.map((function(t,n){return e("<div>").addClass("row").addClass(r[n%3]).append(t)}));this._$container.empty().append(o),this.layout()}},{key:"layout",value:function(){var t=e("span:first",this._$container).width();e("span",this._$container).height(t).css({"line-height":"".concat(t,"px"),"font-size":t<32?"".concat(t/2,"px"):""})}},{key:"bindPopup",value:function(t){this._$container.on("click","span",(function(r){var n=e(r.target);n.hasClass("fixed")||t.popup(n)}))}},{key:"check",value:function(){var e=this._cells.map((function(e){return e.map((function(e){return parseInt(e.text(),10)}))})),t=new o.default(e).check();if(t.success)return!0;var r=t.marks;return this._cells.forEach((function(e,t){return e.forEach((function(e,n){e.hasClass("fixed")||(r[t][n]?e.removeClass("error"):e.addClass("error"))}))})),!1}},{key:"reset",value:function(){e("span:not(.fixed)",this._$container).text("0").removeClass("mark1 mark2 error").addClass("empty")}},{key:"clear",value:function(){e("span.error",this._$container).removeClass("error")}}])&&n(r.prototype,i),u&&n(r,u),t}();t.default=i}).call(this,r(0))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.matrix=(new a.default).generate()}var t,r,o;return t=e,(r=[{key:"make",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return this.puzzleMatrix=this.matrix.map((function(t){return t.map((function(t){return 9*Math.random()<e?0:t}))})),this.puzzleMatrix}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o;return t=e,(r=[{key:"generate",value:function(){for(;!this.internalGenerate();)console.warn("rebuild");return this.matrix}},{key:"internalGenerate",value:function(){var e=this;return this.matrix=a.default.matrix.make(),this.orders=Array.from({length:9}).map((function(){return Array.from({length:9},(function(e,t){return t}))})).map((function(e){return a.default.matrix.shuffle(e)})),Array.from({length:9}).every((function(t,r){return e.fillNumber(r+1)}))}},{key:"fillNumber",value:function(e){return this.fillRow(e,0)}},{key:"fillRow",value:function(e,t){if(t>=9)return!0;for(var r=this.matrix[t],n=this.orders[t],o=0;o<n.length;o++){var i=n[o];if(!r[i]&&a.default.matrix.checkFillable(this.matrix,e,t,i)){if(r[i]=e,this.fillRow(e,t+1))return!0;r[i]=0}}return!1}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.matrix=t}var t,r,o;return t=e,o=[{key:"_checkArray",value:function(e){var t=new Array(e.length);return t.fill(!0),e.forEach((function(r,n){if(r){if(t[n])for(var a=n+1;a<9;a++)r===e[a]&&(t[n]=!1,t[a]=!1)}else t[n]=!1})),t.map((function(e,t){return e?-1:t})).filter((function(e){return e>=0}))}}],(r=[{key:"check",value:function(){return this.marks=a.default.matrix.make(!0),this.checkRows(),this.checkCols(),this.checkBoxes(),this._success=this.marks.every((function(e){return e.every((function(e){return e}))})),this}},{key:"checkRows",value:function(){var t=this.marks;this.matrix.forEach((function(r,n){e._checkArray(r).forEach((function(e){t[n][e]=!1}))}))}},{key:"checkCols",value:function(){for(var t=this.matrix,r=this.marks,n=function(n){var a=Array.from({length:9}).map((function(e,r){return t[r][n]}));e._checkArray(a).forEach((function(e){return r[e][n]=!1}))},a=0;a<9;a++)n(a)}},{key:"checkBoxes",value:function(){var t=this.matrix,r=this.marks;Array.from({length:9}).map((function(e,r){return a.default.box.getBoxCells(t,r)})).forEach((function(t,n){e._checkArray(t).forEach((function(e){var t=a.default.box.convertFromBoxIndex(n,e),o=t.rowIndex,i=t.colIndex;r[o][i]=!1}))}))}},{key:"success",get:function(){return this._success}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";(function(e){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._$panel=r,this._$panel.on("click","span",(function(t){var r=e(t.target);r.hasClass("empty")?n.emptyTarget():r.hasClass("mark")?n.markTarget(r.data("mark")):n.setTargetValue(r.text()),n._$panel.hide(),n._$targetCell=null})).hide().removeClass("hidden")}var n,a,o;return n=t,(a=[{key:"emptyTarget",value:function(){this._$targetCell.text("0").removeClass("mark1 mark2 error").addClass("empty")}},{key:"markTarget",value:function(e){var t=this._$targetCell;t.hasClass(e)?t.removeClass("mark1 mark2 error"):t.removeClass("mark1 mark2 error").addClass(e)}},{key:"setTargetValue",value:function(e){this._$targetCell.text(e).removeClass("empty error")}},{key:"popup",value:function(t){this._$targetCell=t;var r=t.position(),n=Math.min(Math.max(r.left-50,0),e(window).width()-154),a=Math.max(r.top-50,0);this._$panel.css({left:"".concat(n,"px"),top:"".concat(a,"px")}).show()}}])&&r(n.prototype,a),o&&r(n,o),t}();t.default=n}).call(this,r(0))}]);
//# sourceMappingURL=index.js.map